{% extends 'layout.html' %}
{% load static %}

{% block title %}Excluir Grupo{% endblock %}

{% block head %}
<style>
  .ge-hero{background:linear-gradient(135deg,#B91C1C,#EF4444);color:#fff;padding:2rem 0 1.5rem;position:relative;overflow:hidden}
  .ge-hero::after{content:'';position:absolute;top:-30%;right:-15%;width:50%;height:160%;background:rgba(255,255,255,.04);border-radius:50%;transform:rotate(15deg)}
  .ge-hero h1{font-size:1.4rem;font-weight:800;margin:0}

  .ge-card{background:var(--white);border:2px solid rgba(239,68,68,.2);border-radius:var(--radius);padding:1.75rem;margin-top:1.5rem;max-width:550px;margin-left:auto;margin-right:auto}
  .ge-icon{width:56px;height:56px;border-radius:50%;background:rgba(239,68,68,.1);color:#EF4444;display:flex;align-items:center;justify-content:center;font-size:1.5rem;margin:0 auto 1rem}
  .ge-title{font-size:1rem;font-weight:700;color:var(--text);text-align:center;margin:0 0 .5rem}
  .ge-text{font-size:.85rem;color:var(--text-muted);text-align:center;margin:0 0 1.25rem;line-height:1.5}
  .ge-impacts{background:var(--surface-alt);border:1px solid var(--border);border-radius:var(--radius-sm);padding:1rem;margin-bottom:1.25rem}
  .ge-impacts h4{font-size:.78rem;font-weight:700;color:var(--primary);margin:0 0 .5rem;text-transform:uppercase;letter-spacing:.3px}
  .ge-impacts ul{margin:0;padding:0;list-style:none}
  .ge-impacts li{font-size:.82rem;color:var(--text-muted);padding:.25rem 0;display:flex;align-items:center;gap:.4rem}
  .ge-impacts li i{font-size:.7rem;color:#EF4444}
  .ge-alert{background:rgba(245,158,11,.08);border:1px solid rgba(245,158,11,.2);border-radius:var(--radius-sm);padding:.75rem 1rem;font-size:.78rem;color:#92400E;display:flex;align-items:center;gap:.5rem;margin-bottom:1.25rem}
  .ge-actions{display:flex;justify-content:flex-end;gap:.65rem;padding-top:1rem;border-top:1px solid var(--border)}
  .ge-btn{display:inline-flex;align-items:center;justify-content:center;padding:.5rem 1.25rem;border-radius:var(--radius-sm);font-size:.85rem;font-weight:600;text-decoration:none;transition:all var(--transition);cursor:pointer;border:none;gap:.4rem}
  .ge-btn-outline{background:transparent;color:var(--text-muted);border:1.5px solid var(--border)}
  .ge-btn-outline:hover{border-color:var(--accent);color:var(--accent)}
  .ge-btn-danger{background:#EF4444;color:#fff}
  .ge-btn-danger:hover{background:#DC2626;color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px rgba(239,68,68,.3)}
</style>
{% endblock %}

{% block content %}
<section class="ge-hero">
  <div class="container" style="position:relative;z-index:1">
    <nav style="font-size:.75rem;margin-bottom:.5rem;opacity:.6">
      <a href="{% url 'projetos:gestao' %}" style="color:#fff;text-decoration:none">Gestão</a> /
      <a href="{% url 'projetos:grupos_lista' %}" style="color:#fff;text-decoration:none">Grupos</a> /
      <span>Excluir</span>
    </nav>
    <h1><i class="fas fa-exclamation-triangle me-2"></i>Confirmar Exclusão</h1>
  </div>
</section>

<div class="container" style="padding-bottom:3rem">
  <div class="ge-card">
    <div class="ge-icon"><i class="fas fa-trash-alt"></i></div>
    <h3 class="ge-title">Excluir "{{ grupo.nome }}"?</h3>
    <p class="ge-text">Esta ação é irreversível. O grupo será permanentemente removido do sistema.</p>

    <div class="ge-impacts">
      <h4>Impactos da exclusão</h4>
      <ul>
        <li><i class="fas fa-circle"></i> Associações com {{ grupo.membros.count }} membro{{ grupo.membros.count|pluralize }} serão removidas</li>
        <li><i class="fas fa-circle"></i> Associações com {{ grupo.projetos.count }} projeto{{ grupo.projetos.count|pluralize }} serão removidas</li>
        <li><i class="fas fa-circle"></i> Tarefas do grupo serão mantidas mas perderão a referência</li>
      </ul>
    </div>

    <div class="ge-alert">
      <i class="fas fa-info-circle"></i>
      <span>Os membros e projetos não serão excluídos, apenas desvinculados deste grupo.</span>
    </div>

    <form method="post">
      {% csrf_token %}
      <div class="ge-actions">
        <a href="{% url 'projetos:grupos_lista' %}" class="ge-btn ge-btn-outline"><i class="fas fa-arrow-left"></i> Cancelar</a>
        <button type="submit" class="ge-btn ge-btn-danger"><i class="fas fa-trash"></i> Excluir Grupo</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}